<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Contact List </title>
</head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
<style>
body{

background-color: antiquewhite;


}


</style>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<script>
      function display()
    {

      axios.get("https://codingshika.com/APP/WS_API/select_test.php")
      .then(res=>
    {
             console.log(res.data)
      

         let ar=res.data.posts.post
         let l=res.data.posts.post.length;
         console.log(l)
         for(let i=0;i<l;i++)
         {
          var rowData="<tr><td>"+ar[i].S_ID+"</td>"
            rowData += "<td>"+ar[i].Name+"</td>";
            rowData += "<td>"+ar[i].Address+"</td>";
            rowData += "<td>"+ar[i].Email+"</td>";
            rowData +="<td><input type='button' value='Delete' class='btn btn-danger' onclick='del("+ar[i].S_ID+")' </td>";
            $('#dt').append(rowData);





          //  console.log(res.data.data.regional[i])
        //    console.log(res.data.data.regional[i]['loc'])
         }
         



    }
      )



    }

    
    function del(id)
    {

    axios.post("https://codingshika.com/APP/WS_API/delete_test.php?id="+id)
     .then(res=>{

      if(res.data.posts.status==200)
    {

     alert("Delete Succesfully");

    }
    else
    {

      alert("Failed");

    }


    })



    }


    function add()
    {

   let nam=document.getElementById("nam").value;
   let add=document.getElementById("add").value;
   let eml=document.getElementById("eml").value;

    alert(nam+""+add+""+eml);

    axios.post("https://codingshika.com/APP/WS_API/insert_test.php?name="+nam+"&email="+eml+"&addr="+add)
    .then(res=>{

      if(res.data.posts.status==200)
    {

     alert("Insert Succesfully");

    }
    else
    {

      alert("Failed");

    }


    })



    }



</script>

<body onload="display()">
    <center>

<div class="jumbotron jumbotron-fluid">
  <div class="container">
    <h1 class="display-4"><b>Contact List</b></h1>
    <p class="lead">"Connect. Communicate. Conquer."</p>
  </div>
</div>

<div>

<label for="">Name :</label>
<input type="text" id="nam"> 

<label for="">Address :</label>
<input type="text" id="add">

<label for="">Email :</label>
<input type="email" id="eml">

<button type="button"  onclick="add()"   class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">
Add Contact Details 
</button>

</div>

<div>
<table class="table table-dark">

    <thead> <br>
        <tr>
           <th>ID</th>
           <th>Name</th>
           <th>Address</th>
           <th>Email</th>
           <th>Actions</th>
        </tr>
        <tbody id="dt"> 

        </tbody>
    </thead>
</table>
</div>

 </center>

    
</body>
</html>